<div class="home-profissional">
  <!-- Header da Home do Profissional -->
  <div class="welcome-section bg-primary text-white py-5">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-8">
          <h1 class="display-4 fw-bold">Dashboard Profissional üë®‚Äç‚öïÔ∏è</h1>
          <p class="lead">Bem-vindo(a), {{ user?.name }}! Gerencie sua cl√≠nica e clientes</p>
        </div>
        <div class="col-md-4 text-end">
          <img src="assets/images/Logo.png" alt="Logo Essenza" class="logo-welcome">
        </div>
      </div>
    </div>
  </div>

  <div class="container py-5">
    <!-- Cards de Estat√≠sticas -->
    <div class="row mb-5">
      <div class="col-md-2 mb-3">
        <div class="card stat-card text-center">
          <div class="card-body">
            <i class="bi bi-calendar-check display-6 text-success"></i>
            <h3 class="mt-2">{{ estatisticas.agendamentosHoje }}</h3>
            <p class="card-text">Hoje</p>
          </div>
        </div>
      </div>

      <div class="col-md-2 mb-3">
        <div class="card stat-card text-center">
          <div class="card-body">
            <i class="bi bi-calendar-week display-6 text-info"></i>
            <h3 class="mt-2">{{ estatisticas.agendamentosSemana }}</h3>
            <p class="card-text">Esta Semana</p>
          </div>
        </div>
      </div>

      <div class="col-md-2 mb-3">
        <div class="card stat-card text-center">
          <div class="card-body">
            <i class="bi bi-people display-6 text-warning"></i>
            <h3 class="mt-2">{{ estatisticas.clientesAtivos }}</h3>
            <p class="card-text">Clientes Ativos</p>
          </div>
        </div>
      </div>

      <div class="col-md-2 mb-3">
        <div class="card stat-card text-center">
          <div class="card-body">
            <i class="bi bi-currency-dollar display-6 text-success"></i>
            <h3 class="mt-2">R$ {{ estatisticas.faturamentoMes | number:'1.0-0' }}</h3>
            <p class="card-text">Faturamento</p>
          </div>
        </div>
      </div>

      <div class="col-md-2 mb-3">
        <div class="card stat-card text-center">
          <div class="card-body">
            <i class="bi bi-box display-6 text-primary"></i>
            <h3 class="mt-2">{{ estatisticas.produtosEstoque }}</h3>
            <p class="card-text">Em Estoque</p>
          </div>
        </div>
      </div>

      <div class="col-md-2 mb-3">
        <div class="card stat-card text-center">
          <div class="card-body">
            <i class="bi bi-exclamation-triangle display-6 text-danger"></i>
            <h3 class="mt-2">{{ estatisticas.produtosBaixoEstoque }}</h3>
            <p class="card-text">Baixo Estoque</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Cards de Acesso R√°pido -->
    <div class="row mb-5">
      <div class="col-md-3 mb-3">
        <div class="card quick-access-card h-100" (click)="navegarParaEstoque()">
          <div class="card-body text-center">
            <i class="bi bi-boxes display-4 text-primary"></i>
            <h5 class="card-title mt-3">Gerenciar Estoque</h5>
            <p class="card-text">Controle de produtos e quantidade</p>
          </div>
        </div>
      </div>

      <div class="col-md-3 mb-3">
        <div class="card quick-access-card h-100" (click)="navegarParaAgendamentos()">
          <div class="card-body text-center">
            <i class="bi bi-calendar-event display-4 text-success"></i>
            <h5 class="card-title mt-3">Agendamentos</h5>
            <p class="card-text">Visualize e gerencie hor√°rios</p>
          </div>
        </div>
      </div>

      <div class="col-md-3 mb-3">
        <div class="card quick-access-card h-100" (click)="navegarParaClientes()">
          <div class="card-body text-center">
            <i class="bi bi-people-fill display-4 text-info"></i>
            <h5 class="card-title mt-3">Clientes</h5>
            <p class="card-text">Gerencie base de clientes</p>
          </div>
        </div>
      </div>

      <div class="col-md-3 mb-3">
        <div class="card quick-access-card h-100" (click)="navegarParaRelatorios()">
          <div class="card-body text-center">
            <i class="bi bi-graph-up display-4 text-warning"></i>
            <h5 class="card-title mt-3">Relat√≥rios</h5>
            <p class="card-text">An√°lises e m√©tricas</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Agendamentos de Hoje -->
    <div class="row mb-5">
      <div class="col-md-8">
        <div class="card">
          <div class="card-header bg-success text-white">
            <h4 class="mb-0">
              <i class="bi bi-calendar-day me-2"></i>
              Agendamentos de Hoje
            </h4>
          </div>
          <div class="card-body">
            <div *ngIf="agendamentosHoje.length > 0; else semAgendamentosHoje">
              <div class="row border-bottom pb-2 mb-2" *ngFor="let agendamento of agendamentosHoje">
                <div class="col-md-2">
                  <strong>{{ agendamento.horario }}</strong>
                </div>
                <div class="col-md-3">
                  <strong>Cliente:</strong> {{ agendamento.cliente }}
                </div>
                <div class="col-md-3">
                  <strong>Servi√ßo:</strong> {{ agendamento.servico }}
                </div>
                <div class="col-md-2">
                  <strong>Dura√ß√£o:</strong> {{ agendamento.duracao }}
                </div>
                <div class="col-md-2">
                  <span class="badge" [ngClass]="getStatusClass(agendamento.status)">
                    {{ agendamento.status }}
                  </span>
                </div>
              </div>
            </div>
            <ng-template #semAgendamentosHoje>
              <p class="text-muted text-center py-3">
                <i class="bi bi-calendar-x display-4"></i><br>
                Nenhum agendamento para hoje
              </p>
            </ng-template>
          </div>
        </div>
      </div>

      <!-- Produtos com Baixo Estoque -->
      <div class="col-md-4">
        <div class="card">
          <div class="card-header bg-warning text-dark">
            <h5 class="mb-0">
              <i class="bi bi-exclamation-triangle me-2"></i>
              Baixo Estoque
            </h5>
          </div>
          <div class="card-body">
            <div *ngIf="temProdutosBaixoEstoque(); else estoqueOk">
              <div class="mb-2" *ngFor="let produto of getProdutosBaixoEstoque()">
                <div class="d-flex justify-content-between align-items-center">
                  <span>{{ produto.nome }}</span>
                  <span class="badge bg-danger">{{ produto.quantidade }}</span>
                </div>
                <small class="text-muted">{{ produto.categoria }}</small>
              </div>
            </div>
            <ng-template #estoqueOk>
              <p class="text-success text-center">
                <i class="bi bi-check-circle display-4"></i><br>
                Estoque em dia!
              </p>
            </ng-template>
          </div>
        </div>
      </div>
    </div>

    <!-- A√ß√µes R√°pidas -->
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-header bg-info text-white">
            <h4 class="mb-0">
              <i class="bi bi-lightning me-2"></i>
              A√ß√µes R√°pidas
            </h4>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-2 mb-2">
                <button class="btn btn-outline-primary w-100" (click)="navegarParaEstoque()">
                  <i class="bi bi-plus-circle me-2"></i>
                  Adicionar Produto
                </button>
              </div>
              <div class="col-md-2 mb-2">
                <button class="btn btn-outline-success w-100" (click)="navegarParaAgendamentos()">
                  <i class="bi bi-calendar-plus me-2"></i>
                  Novo Agendamento
                </button>
              </div>
              <div class="col-md-2 mb-2">
                <button class="btn btn-outline-info w-100" (click)="navegarParaClientes()">
                  <i class="bi bi-person-plus me-2"></i>
                  Novo Cliente
                </button>
              </div>
              <div class="col-md-2 mb-2">
                <button class="btn btn-outline-warning w-100" (click)="navegarParaRelatorios()">
                  <i class="bi bi-file-earmark-text me-2"></i>
                  Gerar Relat√≥rio
                </button>
              </div>
              <div class="col-md-2 mb-2">
                <button class="btn btn-outline-dark w-100" (click)="navegarParaDashboard()">
                  <i class="bi bi-speedometer2 me-2"></i>
                  Dashboard Completo
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
